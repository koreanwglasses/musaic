var Interactive=function(t){var e={};function i(r){if(e[r])return e[r].exports;var s=e[r]={i:r,l:!1,exports:{}};return t[r].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(r,s,function(e){return t[e]}.bind(null,s));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=3)}([function(t,e){t.exports=THREE},function(t,e,i){"use strict";function r(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),r(i(4)),r(i(5)),r(i(6)),r(i(7)),r(i(8))},function(t,e){t.exports=math},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1);e.Axes2D=r.Axes2D,e.Axes2DArgs=r.Axes2DArgs,e.Axes3D=r.Axes3D,e.Axes3DArgs=r.Axes3DArgs,e.Plot=r.Plot;var s=i(9);e.Arrow2D=s.Arrow2D,e.Arrow2DArgs=s.Arrow2DArgs;var o=i(10);e.Parametric2D=o.Parametric2D,e.Parametric2DArgs=o.Parametric2DArgs},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=i(1),s=i(0);e.Axes=class{constructor(t){t.validate(),t.default(),this.plot=t.plot,this.container=t.container,this.width=t.width,this.height=t.height,this.antialias=t.antialias,this.renderer=null,this.scene=new s.Scene,this.figures=new Set,this.objMap=new Map,this.skip=new Set,this.wake()}addFigure(t){return!this.figures.has(t)&&(this.figures.add(t),this.objMap.set(t,null),!0)}removeFigure(t){return!!this.figures.has(t)&&(this.figures.delete(t),this.objMap.delete(t),!0)}refresh(t){let e=this.objMap.get(t);null!=e&&this.scene.remove(e),this.objMap.set(t,null),this.skip.delete(t)}refreshAll(){for(let t of this.figures)this.refresh(t)}render(){null!=this.renderer&&(this.recalculate(),this.renderer.render(this.scene,this.getCamera()))}sleep(){null!=this.renderer&&(this.renderer.forceContextLoss(),this.renderer.context=null,this.renderer.domElement=null,this.renderer=null)}wake(){null==this.renderer&&(this.renderer=new s.WebGLRenderer({antialias:this.antialias}),this.renderer.setSize(this.width,this.height),this.container.innerHTML="",this.container.appendChild(this.renderer.domElement))}getPlot(){return this.plot}getContainer(){return this.container}isSleeping(){return null==this.renderer}getRenderer(){return this.renderer}getScene(){return this.scene}recalculate(){for(let t of this.figures){let e=this.objMap.get(t);if(null==e&&!this.skip.has(t)){let i=!0;try{e=t.getSceneObject(this.plot.getScope())}catch(e){i=!1,console.error(e),console.warn("Figure not rendered!"),this.skip.add(t)}i&&(this.objMap.set(t,e),this.scene.add(e))}}}};e.AxesArgs=class{constructor(t){this.plot=t.plot,this.container=t.container}validate(){if(!this.plot)throw new Error("Invalid arguments: Parent plot not defined!");if(!(this.plot instanceof r.Plot))throw new Error("Invalid arguments: Parent plot is not an instance of Plot!");if(!this.container)throw new Error("Invalid arguments: container (HTMLElement) not defined!");if(!(this.container instanceof HTMLElement))throw new Error("Invalid arguments: container is not an instance of HTMLElement!");if(void 0===this.width&&0==this.container.clientWidth)throw new Error("Invalid arguments: container has client width 0!");if(void 0===this.height&&0==this.container.clientHeight)throw new Error("Invalid arguments: container has client height 0!");if(void 0!==this.width&&this.width<=0)throw new Error("Invalid arguments: width <= 0!");if(void 0!==this.height&&this.height<=0)throw new Error("Invalid arguments: height <= 0!");return!0}default(){void 0===this.width&&(this.width=this.container.clientWidth),void 0===this.height&&(this.height=this.container.clientHeight),void 0===this.antialias&&(this.antialias=!1)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=i(1),s=i(0);e.Axes2D=class extends r.Axes{constructor(t){super(t),this.camera=new s.OrthographicCamera(t.left,t.right,t.top,t.bottom,0,20),this.camera.position.z=10,this.camera.lookAt(this.getScene().position),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom;let e=this,i=null,r=null;this.getContainer().addEventListener("mousedown",t=>{1&t.buttons&&function(t,s){i=[t,s],r=e.camera.position.clone()}(t.clientX,t.clientY)}),this.getContainer().addEventListener("mousemove",t=>{1&t.buttons&&function(t,s){let o=e.getContainer().getBoundingClientRect(),a=[t-i[0],s-i[1]],n=[e.right-e.left,e.top-e.bottom],h=[a[0]/o.width*n[0],a[1]/o.height*n[1]];e.camera.position.x=r.x-h[0],e.camera.position.y=r.y+h[1],e.camera.updateMatrix()}(t.clientX,t.clientY)}),this.getContainer().addEventListener("mouseup",t=>{1&t.buttons&&(t.clientX,t.clientY,i=null,r=null)})}getCamera(){return this.camera}};e.Axes2DArgs=class extends r.AxesArgs{constructor(t){super(t),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom}validate(){if(super.validate(),void 0!==this.right&&void 0!==this.left&&this.right-this.left<=0)throw new Error("Invalid arguments: left >= right.");if(void 0!==this.top&&void 0!==this.bottom&&this.top-this.bottom<=0)throw new Error("Invalid arguments: top <= bottom.");return!0}default(){super.default(),void 0===this.left&&(this.left=-10),void 0===this.right&&(this.right=10),void 0===this.top&&(this.top=10),void 0===this.bottom&&(this.bottom=-10)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=i(1),s=i(0);e.Axes3D=class extends r.Axes{constructor(t){super(t),this.camera=new s.PerspectiveCamera}getCamera(){throw new Error("Method not implemented.")}};e.Axes3DArgs=class extends r.AxesArgs{}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=i(2);class s{constructor(t){let e=new o(t);e.validate(),e.defaults(),this.plot=e.plot,this.container=e.container}createSlider(t){let e=new s.SliderArgs(t);e.validate(),e.defaults();let i=(e.end-e.start)/(e.steps-1),o=this,a=this.plot.getScope()[t.variable];"number"!=r.typeof(a)&&(a=e.start,this.plot.setConstant(e.variable,a));let n=document.createElement("input");n.setAttribute("type","range"),n.setAttribute("min",e.start.toString()),n.setAttribute("max",e.end.toString()),n.setAttribute("step",i.toString()),n.setAttribute("value",a.toString()),n.addEventListener("input",function(t){o.plot.setConstant(e.variable,parseFloat(this.value)),o.plot.refresh()}),this.container.appendChild(n)}}s.SliderArgs=class{constructor(t){this.variable=t.variable,this.start=t.start,this.end=t.end,this.steps=t.steps,this.continuousUpdate=t.continuousUpdate}validate(){if(void 0===this.variable)throw new Error("Invalid arguments: Variable not defined!");if(void 0===this.start)throw new Error("Invalid arguments: Start not defined!");if(void 0===this.end)throw new Error("Invalid arguments: End not defined!");return!0}defaults(){void 0===this.steps&&(this.steps=50),void 0===this.continuousUpdate&&(this.continuousUpdate=!0)}},e.Panel=s;class o{constructor(t){this.plot=t.plot,this.container=t.container}validate(){if(void 0===this.plot)throw new Error("Invalid arguments: Plot not defined!");if(void 0===this.container)throw new Error("Invalid arguments: Container not defined!");return!0}defaults(){}}e.PanelArgs=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=i(1),s=i(2);e.Plot=class{constructor(){this.axes=new Set,this.scope={},Math.pow(2,-52);let t=Math.pow(2,-26);this.scope.nderivative=function(e,i){if("number"!=s.typeof(i))throw new Error("Invalid argument for x");let r=s.max(s.abs(t*i),t)/2;return s.divide(s.subtract(e(i+r),e(i-r)),2*r)},this.scope.lerp=function(t,e,i){if("number"!=s.typeof(i))throw new Error("Invalid argument for alpha");return s.add(s.multiply(1-i,t),s.multiply(i,e))}}createAxes2D(t){let e=new r.Axes2DArgs(t);e.plot=this;let i=new r.Axes2D(e);return this.addAxes(i),i}createAxes3D(t){throw new r.Axes3DArgs(t).plot=this,new Error("Method not implemented.")}dropAxes(t){return this.axes.delete(t)}createPanel(t){let e=new r.PanelArgs(t);return e.plot=this,new r.Panel(e)}render(){for(let t of this.axes)t.isSleeping()||t.render()}refresh(){for(let t of this.axes)t.refreshAll()}sleep(){throw new Error("Method not implemented.")}wake(){throw new Error("Method not implemented.")}execExpression(t){s.eval(t,this.scope)}setConstant(t,e){this.scope[t]=e}getScope(){return Object.create(this.scope)}addAxes(t){this.axes.add(t)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=i(0),s=i(2);e.Arrow2D=class{constructor(t){let e=new o(t);e.validate(),e.defaults(),this.startFun=s.parse(e.start).compile(),this.endFun=s.parse(e.end).compile(),this.hex=e.hex,this.headLength=e.headLength,this.headWidth=e.headWidth}getSceneObject(t){let e=this.endFun.eval(t);if("Matrix"!=s.typeof(e))throw new Error("End expression does not evaluate to a vector (Matrix)!");let i=new r.Vector3(e._data[0],e._data[1],0),o=this.startFun.eval(t);if("Matrix"!=s.typeof(o))throw new Error("Start expression does not evaluate to vector (Matrix)!");let a=new r.Vector3(o._data[0],o._data[1],0),n=i.clone().sub(a).normalize(),h=i.distanceTo(a),l=this.hex,u=this.headLength*h,d=this.headWidth*u;return new r.ArrowHelper(n,a,h,l,u,d)}};class o{constructor(t){this.start=t.start,this.end=t.end,this.hex=t.hex,this.headLength=t.headLength,this.headWidth=t.headWidth}validate(){if(!this.end)throw new Error("Invalid arguments: end not defined!");return!0}defaults(){void 0===this.start&&(this.start="[0,0]"),void 0===this.hex&&(this.hex=16777215),void 0===this.headLength&&(this.headLength=.2),void 0===this.headWidth&&(this.headWidth=.5)}}e.Arrow2DArgs=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=i(11),s=i(2),o=i(0);e.Parametric2D=class{constructor(t){let e=new a(t);e.validate(),e.defaults(),this.expressionFun=s.parse(e.expression).compile(),this.parameter=t.parameter,this.startFun=s.parse(e.start).compile(),this.endFun=s.parse(e.end).compile(),this.stepsFun=s.parse(e.steps).compile(),null==t.color?this.colorFun=null:this.colorFun=s.parse(e.color).compile(),this.width=e.width}getSceneObject(t){let e=this,i=Object.create(t),a=this.startFun.eval(t);if("number"!=s.typeof(a))throw new Error("Start does not evaluate to a number!");let n=this.endFun.eval(t);if("number"!=s.typeof(n))throw new Error("End does not evaluate to a number!");let h=this.stepsFun.eval(t);if("number"!=s.typeof(h))throw new Error("Step does not evaluate to a number!");let l,u=function(t){return i[e.parameter]=t,e.expressionFun.eval(i)};if("Matrix"!=s.typeof(u(a)))throw new Error("Expression does not evaluate to a vector (Matrix)!");if(null!=this.colorFun){if(i[this.parameter]=a,"Matrix"!=s.typeof(this.colorFun.eval(i)))throw new Error("Color does not evaluate to a vector (Matrix)!");l=function(t){return i[e.parameter]=t,[...e.colorFun.eval(i)._data]}}else l=function(t){return[1,1,1]};let d=(n-a)/(h-1),p=new Float32Array(3*h),c=new Float32Array(4*h);for(let t=0;t<h;t++){let e=a+t*d,i=u(e),r=l(e);p[3*t]=i._data[0],p[3*t+1]=i._data[1],p[3*t+2]=0,c[4*t]=r[0],c[4*t+1]=r[1],c[4*t+2]=r[2],c[4*t+3]=1}let f=new o.BufferGeometry;f.addAttribute("position",new o.BufferAttribute(p,3)),f.addAttribute("color",new o.BufferAttribute(c,4));let v=new r.MeshLine;v.setGeometry(f);let y=new r.MeshLineMaterial({useGlobalColor:0,lineWidth:this.width});return new o.Mesh(v.geometry,y)}};class a{constructor(t){this.expression=t.expression,this.parameter=t.parameter,this.start=t.start,this.end=t.end,this.steps=t.steps,this.color=t.color,this.width=t.width}validate(){if(!this.expression)throw new Error("Invalid arguments: expression not defined!");if(!this.parameter)throw new Error("Invalid arguments: parameter (variable) not defined!");if(void 0===this.start)throw new Error("Invalid arguments: start not defined!");if(void 0===this.end)throw new Error("Invalid arguments: end not defined!");return!0}defaults(){void 0===this.steps&&(this.steps="50"),void 0===this.color&&(this.color=null),void 0===this.width&&(this.width=.01)}}e.Parametric2DArgs=a},function(t,e,i){(function(){"use strict";var r=this.THREE||i(0);if(!r)throw new Error("MeshLine requires three.js");function s(){this.positions=[],this.colors=[],this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[],this.counters=[],this.geometry=new r.BufferGeometry,this.widthCallback=null}function o(t,e,i,r,s){var o;if(t=t.subarray||t.slice?t:t.buffer,i=i.subarray||i.slice?i:i.buffer,t=e?t.subarray?t.subarray(e,s&&e+s):t.slice(e,s&&e+s):t,i.set)i.set(t,r);else for(o=0;o<t.length;o++)i[o+r]=t[o];return i}function a(t){function e(t,e){return void 0===t?e:t}r.Material.call(this),t=t||{},this.lineWidth=e(t.lineWidth,1),this.map=e(t.map,null),this.useMap=e(t.useMap,0),this.alphaMap=e(t.alphaMap,null),this.useAlphaMap=e(t.useAlphaMap,0),this.useGlobalColor=e(t.useGlobalColor,1),this.color=e(t.color,new r.Color(16777215)),this.opacity=e(t.opacity,1),this.resolution=e(t.resolution,new r.Vector2(1,1)),this.sizeAttenuation=e(t.sizeAttenuation,1),this.near=e(t.near,1),this.far=e(t.far,1),this.dashArray=e(t.dashArray,0),this.dashOffset=e(t.dashOffset,0),this.dashRatio=e(t.dashRatio,.5),this.useDash=0!==this.dashArray?1:0,this.visibility=e(t.visibility,1),this.alphaTest=e(t.alphaTest,0),this.repeat=e(t.repeat,new r.Vector2(1,1));var i=new r.RawShaderMaterial({uniforms:{lineWidth:{type:"f",value:this.lineWidth},map:{type:"t",value:this.map},useMap:{type:"f",value:this.useMap},alphaMap:{type:"t",value:this.alphaMap},useAlphaMap:{type:"f",value:this.useAlphaMap},useGlobalColor:{type:"f",value:this.useGlobalColor},gcolor:{type:"c",value:this.color},gopacity:{type:"f",value:this.opacity},resolution:{type:"v2",value:this.resolution},sizeAttenuation:{type:"f",value:this.sizeAttenuation},near:{type:"f",value:this.near},far:{type:"f",value:this.far},dashArray:{type:"f",value:this.dashArray},dashOffset:{type:"f",value:this.dashOffset},dashRatio:{type:"f",value:this.dashRatio},useDash:{type:"f",value:this.useDash},visibility:{type:"f",value:this.visibility},alphaTest:{type:"f",value:this.alphaTest},repeat:{type:"v2",value:this.repeat}},vertexShader:["precision highp float;","","attribute vec3 position;","attribute vec4 color;","attribute vec3 previous;","attribute vec3 next;","attribute float side;","attribute float width;","attribute vec2 uv;","attribute float counters;","","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","uniform vec2 resolution;","uniform float lineWidth;","uniform float useGlobalColor;","uniform vec3 gcolor;","uniform float gopacity;","uniform float near;","uniform float far;","uniform float sizeAttenuation;","","varying vec2 vUV;","varying vec4 vColor;","varying float vCounters;","","vec2 fix( vec4 i, float aspect ) {","","    vec2 res = i.xy / i.w;","    res.x *= aspect;","\t vCounters = counters;","    return res;","","}","","void main() {","","    float aspect = resolution.x / resolution.y;","\t float pixelWidthRatio = 1. / (resolution.x * projectionMatrix[0][0]);","","    if(useGlobalColor == 1.0) {","        vColor = vec4( gcolor, gopacity );","    } else {","        vColor = color;","    }","","    vUV = uv;","","    mat4 m = projectionMatrix * modelViewMatrix;","    vec4 finalPosition = m * vec4( position, 1.0 );","    vec4 prevPos = m * vec4( previous, 1.0 );","    vec4 nextPos = m * vec4( next, 1.0 );","","    vec2 currentP = fix( finalPosition, aspect );","    vec2 prevP = fix( prevPos, aspect );","    vec2 nextP = fix( nextPos, aspect );","","\t float pixelWidth = finalPosition.w * pixelWidthRatio;","    float w = 1.8 * pixelWidth * lineWidth * width;","","    if( sizeAttenuation == 1. ) {","        w = 1.8 * lineWidth * width;","    }","","    vec2 dir;","    if( nextP == currentP ) dir = normalize( currentP - prevP );","    else if( prevP == currentP ) dir = normalize( nextP - currentP );","    else {","        vec2 dir1 = normalize( currentP - prevP );","        vec2 dir2 = normalize( nextP - currentP );","        dir = normalize( dir1 + dir2 );","","        vec2 perp = vec2( -dir1.y, dir1.x );","        vec2 miter = vec2( -dir.y, dir.x );","        //w = clamp( w / dot( miter, perp ), 0., 4. * lineWidth * width );","","    }","","    //vec2 normal = ( cross( vec3( dir, 0. ), vec3( 0., 0., 1. ) ) ).xy;","    vec2 normal = vec2( -dir.y, dir.x );","    normal.x /= aspect;","    normal *= .5 * w;","","    vec4 offset = vec4( normal * side, 0.0, 1.0 );","    finalPosition.xy += offset.xy;","","    gl_Position = finalPosition;","","}"].join("\r\n"),fragmentShader:["#extension GL_OES_standard_derivatives : enable","precision mediump float;","","uniform sampler2D map;","uniform sampler2D alphaMap;","uniform float useMap;","uniform float useAlphaMap;","uniform float useDash;","uniform float dashArray;","uniform float dashOffset;","uniform float dashRatio;","uniform float visibility;","uniform float alphaTest;","uniform vec2 repeat;","","varying vec2 vUV;","varying vec4 vColor;","varying float vCounters;","","void main() {","","    vec4 c = vColor;","    if( useMap == 1. ) c *= texture2D( map, vUV * repeat );","    if( useAlphaMap == 1. ) c.a *= texture2D( alphaMap, vUV * repeat ).a;","    if( c.a < alphaTest ) discard;","    if( useDash == 1. ){","        c.a *= ceil(mod(vCounters + dashOffset, dashArray) - (dashArray * dashRatio));","    }","    gl_FragColor = c;","    gl_FragColor.a *= step(vCounters, visibility);","}"].join("\r\n")});return delete t.lineWidth,delete t.map,delete t.useMap,delete t.alphaMap,delete t.useAlphaMap,delete t.useGlobalColor,delete t.color,delete t.opacity,delete t.resolution,delete t.sizeAttenuation,delete t.near,delete t.far,delete t.dashArray,delete t.dashOffset,delete t.dashRatio,delete t.visibility,delete t.alphaTest,delete t.repeat,i.type="MeshLineMaterial",i.setValues(t),i}s.prototype.setGeometry=function(t,e){if(this.widthCallback=e,this.positions=[],this.counters=[],t instanceof r.Geometry)for(var i=0;i<t.vertices.length;i++){var s=t.vertices[i];e=i/t.vertices.length;this.positions.push(s.x,s.y,s.z),this.positions.push(s.x,s.y,s.z),this.colors.push(0,0,0,0),this.colors.push(0,0,0,0),this.counters.push(e),this.counters.push(e)}if(t instanceof r.BufferGeometry){var o=t.getAttribute("position").array,a=t.getAttribute("color").array;for(i=0;3*i<o.length;i+=1){e=3*i/o.length;this.positions.push(o[3*i],o[3*i+1],o[3*i+2]),this.positions.push(o[3*i],o[3*i+1],o[3*i+2]),this.colors.push(a[4*i],a[4*i+1],a[4*i+2],a[4*i+3]),this.colors.push(a[4*i],a[4*i+1],a[4*i+2],a[4*i+3]),this.counters.push(e),this.counters.push(e)}}if(t instanceof Float32Array||t instanceof Array)for(i=0;i<t.length;i+=3){e=i/t.length;this.positions.push(t[i],t[i+1],t[i+2]),this.positions.push(t[i],t[i+1],t[i+2]),this.colors.push(0,0,0,0),this.colors.push(0,0,0,0),this.counters.push(e),this.counters.push(e)}this.process()},s.prototype.compareV3=function(t,e){var i=6*t,r=6*e;return this.positions[i]===this.positions[r]&&this.positions[i+1]===this.positions[r+1]&&this.positions[i+2]===this.positions[r+2]},s.prototype.copyV3=function(t){var e=6*t;return[this.positions[e],this.positions[e+1],this.positions[e+2]]},s.prototype.process=function(){var t,e,i=this.positions.length/6;this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[];for(var s=0;s<i;s++)this.side.push(1),this.side.push(-1);for(s=0;s<i;s++)t=this.widthCallback?this.widthCallback(s/(i-1)):1,this.width.push(t),this.width.push(t);for(s=0;s<i;s++)this.uvs.push(s/(i-1),0),this.uvs.push(s/(i-1),1);e=this.compareV3(0,i-1)?this.copyV3(i-2):this.copyV3(0),this.previous.push(e[0],e[1],e[2]),this.previous.push(e[0],e[1],e[2]);for(s=0;s<i-1;s++)e=this.copyV3(s),this.previous.push(e[0],e[1],e[2]),this.previous.push(e[0],e[1],e[2]);for(s=1;s<i;s++)e=this.copyV3(s),this.next.push(e[0],e[1],e[2]),this.next.push(e[0],e[1],e[2]);e=this.compareV3(i-1,0)?this.copyV3(1):this.copyV3(i-1),this.next.push(e[0],e[1],e[2]),this.next.push(e[0],e[1],e[2]);for(s=0;s<i-1;s++){var o=2*s;this.indices_array.push(o,o+1,o+2),this.indices_array.push(o+2,o+1,o+3)}this.attributes?(this.attributes.position.copyArray(new Float32Array(this.positions)),this.attributes.position.needsUpdate=!0,this.attributes.color.copyArray(new Float32Array(this.colors)),this.attributes.color.needsUpdate=!0,this.attributes.previous.copyArray(new Float32Array(this.previous)),this.attributes.previous.needsUpdate=!0,this.attributes.next.copyArray(new Float32Array(this.next)),this.attributes.next.needsUpdate=!0,this.attributes.side.copyArray(new Float32Array(this.side)),this.attributes.side.needsUpdate=!0,this.attributes.width.copyArray(new Float32Array(this.width)),this.attributes.width.needsUpdate=!0,this.attributes.uv.copyArray(new Float32Array(this.uvs)),this.attributes.uv.needsUpdate=!0,this.attributes.index.copyArray(new Uint16Array(this.indices_array)),this.attributes.index.needsUpdate=!0):this.attributes={position:new r.BufferAttribute(new Float32Array(this.positions),3),color:new r.BufferAttribute(new Float32Array(this.colors),4),previous:new r.BufferAttribute(new Float32Array(this.previous),3),next:new r.BufferAttribute(new Float32Array(this.next),3),side:new r.BufferAttribute(new Float32Array(this.side),1),width:new r.BufferAttribute(new Float32Array(this.width),1),uv:new r.BufferAttribute(new Float32Array(this.uvs),2),index:new r.BufferAttribute(new Uint16Array(this.indices_array),1),counters:new r.BufferAttribute(new Float32Array(this.counters),1)},this.geometry.addAttribute("position",this.attributes.position),this.geometry.addAttribute("color",this.attributes.color),this.geometry.addAttribute("previous",this.attributes.previous),this.geometry.addAttribute("next",this.attributes.next),this.geometry.addAttribute("side",this.attributes.side),this.geometry.addAttribute("width",this.attributes.width),this.geometry.addAttribute("uv",this.attributes.uv),this.geometry.addAttribute("counters",this.attributes.counters),this.geometry.setIndex(this.attributes.index)},s.prototype.advance=function(t){var e=this.attributes.position.array,i=this.attributes.previous.array,r=this.attributes.next.array,s=e.length;o(e,0,i,0,s),o(e,6,e,0,s-6),e[s-6]=t.x,e[s-5]=t.y,e[s-4]=t.z,e[s-3]=t.x,e[s-2]=t.y,e[s-1]=t.z,o(e,6,r,0,s-6),r[s-6]=t.x,r[s-5]=t.y,r[s-4]=t.z,r[s-3]=t.x,r[s-2]=t.y,r[s-1]=t.z,this.attributes.position.needsUpdate=!0,this.attributes.previous.needsUpdate=!0,this.attributes.next.needsUpdate=!0},a.prototype=Object.create(r.Material.prototype),a.prototype.constructor=a,a.prototype.copy=function(t){return r.Material.prototype.copy.call(this,t),this.lineWidth=t.lineWidth,this.map=t.map,this.useMap=t.useMap,this.alphaMap=t.alphaMap,this.useAlphaMap=t.useAlphaMap,this.useGlobalColor=check(parameters.useGlobalColor,1),this.color.copy(t.color),this.opacity=t.opacity,this.resolution.copy(t.resolution),this.sizeAttenuation=t.sizeAttenuation,this.near=t.near,this.far=t.far,this.dashArray.copy(t.dashArray),this.dashOffset.copy(t.dashOffset),this.dashRatio.copy(t.dashRatio),this.useDash=t.useDash,this.visibility=t.visibility,this.alphaTest=t.alphaTest,this.repeat.copy(t.repeat),this},t.exports&&(e=t.exports={MeshLine:s,MeshLineMaterial:a}),e.MeshLine=s,e.MeshLineMaterial=a}).call(this)}]);